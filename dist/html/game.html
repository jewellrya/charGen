<!DOCTYPE html><html><head><title>game.js</title><link href="../css/game.css" rel="stylesheet"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"><script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script><script src="../../node_modules/pixi.js/dist/pixi.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script><script src="../../dev/js/game.js" type="module" defer></script></head><body> <script type="text/javascript">let type = 'WebGL'
if(!PIXI.utils.isWebGLSupported()){
    type = 'canvas'
}

PIXI.utils.sayHello(type)</script></body></html><div class="d-flex justify-content-center align-items-center vh-100" style="background-color: black"><div id="game"></div><script>// Aliases
let Application = PIXI.Application,
    loader = PIXI.Loader,
    TextureCache = PIXI.utils.TextureCache,
    resources = PIXI.Loader.shared.resources,
    Sprite = PIXI.Sprite,
    Rectangle = PIXI.Rectangle;

// Create a Pixi Application
let app = new Application({
    width: 600, 
    height: 400
    }
);

let texture = 

// Add the canvas that Pixi automatically created for you.
document.body.appendChild(app.view);

function asset (asset) {
    var assetDir = '../../assets/';
    if (typeof asset === 'object') {
        for ( var i = 0; i < asset.length; i++) {
            asset[i] = assetDir + asset[i] + '.png';
        }
    } 
    if (typeof asset === 'string') {
        asset = assetDir + asset + '.png';
    }
    return asset;
}

loader.shared
    .add('../../assets/sprites.json')
    .load(setup);

// Define variables in more than one function
let id, state, derp, bg;

function setup() {
    
    id = PIXI.Loader.shared.resources['../../assets/sprites.json'].textures;

    bg = new Sprite(id['environment.png']);
    app.stage.addChild(bg);

    derp = new Sprite(id['male1_standRight.png']);
    derp.x = 50;
    derp.vx = 0;
    derp.yx = 0;
    app.stage.addChild(derp);

    state = play;

    app.ticker.add(delta => gameLoop(delta));
}

function gameLoop(delta) {
    
    state(delta);
}

function play(delta) {
    
    derp.vy = 2;
    derp.y += derp.vy + delta;
}</script></div>